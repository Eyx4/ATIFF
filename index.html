<!DOCTYPE html>
<html>
<head>
    <title>Create .atiff File</title>
</head>
<body>
    <button onclick="createAtiffFile()">Create .atiff File</button>

    <script>
        function createAtiffFile() {
            const pixelData = [
                0xFF0000, // Red pixel
                0x00FF00, // Green pixel
                0x0000FF  // Blue pixel
            ];

            const header = new Uint8Array([
                0x41, 0x54, 0x49, 0x46, 0x46, // "ATIFF" magic number
                0x00, 0x00, 0x00, 0x0C,       // File size (excluding header) = 12 bytes
                0x00, 0x00, 0x00, 0x03        // Number of pixels = 3
            ]);

            const pixelBytes = new Uint8Array(pixelData.length * 3); // Each pixel is 3 bytes (RGB)
            for (let i = 0; i < pixelData.length; i++) {
                const red = (pixelData[i] >> 16) & 0xFF;
                const green = (pixelData[i] >> 8) & 0xFF;
                const blue = pixelData[i] & 0xFF;
                const offset = i * 3;
                pixelBytes[offset] = red;
                pixelBytes[offset + 1] = green;
                pixelBytes[offset + 2] = blue;
            }

            const blob = new Blob([header, pixelBytes], { type: 'application/octet-stream' });

            const downloadLink = document.createElement('a');
            downloadLink.href = URL.createObjectURL(blob);
            downloadLink.download = 'image.atiff';
            downloadLink.style.display = 'none';
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        }
    </script>
</body>
</html>
